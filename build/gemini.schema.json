{
  "$ref": "#/definitions/GeminiSpec",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "definitions": {
    "Aggregate": {
      "enum": [
        "max",
        "min",
        "mean",
        "bin",
        "count"
      ],
      "type": "string"
    },
    "AxisPosition": {
      "enum": [
        "top",
        "bottom",
        "left",
        "right"
      ],
      "type": "string"
    },
    "BEDMetadata": {
      "additionalProperties": false,
      "properties": {
        "exonIntervalFields": {
          "items": [
            {
              "additionalProperties": false,
              "properties": {
                "index": {
                  "type": "number"
                },
                "name": {
                  "type": "string"
                }
              },
              "required": [
                "index",
                "name"
              ],
              "type": "object"
            },
            {
              "additionalProperties": false,
              "properties": {
                "index": {
                  "type": "number"
                },
                "name": {
                  "type": "string"
                }
              },
              "required": [
                "index",
                "name"
              ],
              "type": "object"
            }
          ],
          "maxItems": 2,
          "minItems": 2,
          "type": "array"
        },
        "genomicFields": {
          "items": {
            "additionalProperties": false,
            "properties": {
              "index": {
                "type": "number"
              },
              "name": {
                "type": "string"
              }
            },
            "required": [
              "index",
              "name"
            ],
            "type": "object"
          },
          "type": "array"
        },
        "type": {
          "const": "higlass-bed",
          "type": "string"
        },
        "valueFields": {
          "items": {
            "additionalProperties": false,
            "properties": {
              "index": {
                "type": "number"
              },
              "name": {
                "type": "string"
              },
              "type": {
                "enum": [
                  "nominal",
                  "quantitative"
                ],
                "type": "string"
              }
            },
            "required": [
              "index",
              "name",
              "type"
            ],
            "type": "object"
          },
          "type": "array"
        }
      },
      "required": [
        "type",
        "genomicFields"
      ],
      "type": "object"
    },
    "BasicSingleTrack": {
      "additionalProperties": false,
      "properties": {
        "_is_circular": {
          "type": "boolean"
        },
        "background": {
          "$ref": "#/definitions/ChannelValue"
        },
        "color": {
          "$ref": "#/definitions/Channel"
        },
        "column": {
          "$ref": "#/definitions/Channel"
        },
        "data": {
          "anyOf": [
            {
              "$ref": "#/definitions/DataDeep"
            },
            {
              "items": {
                "$ref": "#/definitions/Datum"
              },
              "type": "array"
            }
          ]
        },
        "dataTransform": {
          "$ref": "#/definitions/DataTransform"
        },
        "description": {
          "type": "string"
        },
        "height": {
          "type": "number"
        },
        "innerRadius": {
          "type": "number"
        },
        "mark": {
          "$ref": "#/definitions/Mark"
        },
        "metadata": {
          "$ref": "#/definitions/DataMetadata"
        },
        "opacity": {
          "$ref": "#/definitions/ChannelValue"
        },
        "outerRadius": {
          "type": "number"
        },
        "row": {
          "$ref": "#/definitions/Channel"
        },
        "size": {
          "$ref": "#/definitions/Channel"
        },
        "span": {
          "type": "number"
        },
        "stretch": {
          "type": "boolean"
        },
        "stroke": {
          "$ref": "#/definitions/Channel"
        },
        "strokeWidth": {
          "$ref": "#/definitions/Channel"
        },
        "style": {
          "$ref": "#/definitions/TrackStyle"
        },
        "text": {
          "$ref": "#/definitions/Channel"
        },
        "title": {
          "type": "string"
        },
        "visibility": {
          "$ref": "#/definitions/TriggerCondition"
        },
        "width": {
          "type": "number"
        },
        "x": {
          "$ref": "#/definitions/Channel"
        },
        "x1": {
          "$ref": "#/definitions/Channel"
        },
        "x1e": {
          "$ref": "#/definitions/Channel"
        },
        "xe": {
          "$ref": "#/definitions/Channel"
        },
        "y": {
          "$ref": "#/definitions/Channel"
        },
        "y1": {
          "$ref": "#/definitions/Channel"
        },
        "y1e": {
          "$ref": "#/definitions/Channel"
        },
        "ye": {
          "$ref": "#/definitions/Channel"
        },
        "zoomable": {
          "type": "boolean"
        }
      },
      "required": [
        "data",
        "mark"
      ],
      "type": "object"
    },
    "Channel": {
      "anyOf": [
        {
          "$ref": "#/definitions/ChannelDeep"
        },
        {
          "$ref": "#/definitions/ChannelValue"
        }
      ]
    },
    "ChannelBind": {
      "additionalProperties": false,
      "properties": {
        "aggregate": {
          "$ref": "#/definitions/Aggregate"
        },
        "bind": {
          "$ref": "#/definitions/ChannelType"
        }
      },
      "required": [
        "bind"
      ],
      "type": "object"
    },
    "ChannelDeep": {
      "additionalProperties": false,
      "properties": {
        "aggregate": {
          "$ref": "#/definitions/Aggregate"
        },
        "axis": {
          "$ref": "#/definitions/AxisPosition"
        },
        "baseline": {
          "type": [
            "string",
            "number"
          ]
        },
        "domain": {
          "$ref": "#/definitions/Domain"
        },
        "field": {
          "type": "string"
        },
        "grid": {
          "type": "boolean"
        },
        "legend": {
          "type": "boolean"
        },
        "linker": {
          "type": "string"
        },
        "mirrored": {
          "type": "boolean"
        },
        "range": {
          "$ref": "#/definitions/Range"
        },
        "type": {
          "$ref": "#/definitions/FieldType"
        },
        "zeroBaseline": {
          "type": "boolean"
        }
      },
      "type": "object"
    },
    "ChannelType": {
      "type": "string"
    },
    "ChannelValue": {
      "additionalProperties": false,
      "properties": {
        "value": {
          "type": [
            "number",
            "string"
          ]
        }
      },
      "required": [
        "value"
      ],
      "type": "object"
    },
    "CustomChannel": {
      "additionalProperties": {
        "$ref": "#/definitions/Channel"
      },
      "properties": {
      },
      "type": "object"
    },
    "DataDeep": {
      "anyOf": [
        {
          "$ref": "#/definitions/DataDeepTileset"
        },
        {
          "$ref": "#/definitions/DataDeepGemini"
        }
      ],
      "description": "Data specification"
    },
    "DataDeepGemini": {
      "additionalProperties": false,
      "properties": {
        "chromosomeField": {
          "type": "string"
        },
        "data": {
          "items": {
            "$ref": "#/definitions/Datum"
          },
          "type": "array"
        },
        "genomicFields": {
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        "quantitativeFields": {
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        "quantitativeFieldsAlt": {
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        "type": {
          "const": "csv",
          "type": "string"
        },
        "url": {
          "type": "string"
        },
        "urlAlt": {
          "type": "string"
        }
      },
      "required": [
        "type"
      ],
      "type": "object"
    },
    "DataDeepTileset": {
      "additionalProperties": false,
      "properties": {
        "type": {
          "const": "tileset",
          "type": "string"
        },
        "url": {
          "type": "string"
        }
      },
      "required": [
        "type",
        "url"
      ],
      "type": "object"
    },
    "DataMetadata": {
      "anyOf": [
        {
          "$ref": "#/definitions/MultivecMetadata"
        },
        {
          "$ref": "#/definitions/BEDMetadata"
        }
      ]
    },
    "DataTransform": {
      "additionalProperties": false,
      "properties": {
        "filter": {
          "items": {
            "$ref": "#/definitions/Filter"
          },
          "type": "array"
        }
      },
      "required": [
        "filter"
      ],
      "type": "object"
    },
    "Datum": {
      "additionalProperties": {
        "type": [
          "number",
          "string"
        ]
      },
      "type": "object"
    },
    "Domain": {
      "anyOf": [
        {
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        {
          "items": {
            "type": "number"
          },
          "type": "array"
        },
        {
          "$ref": "#/definitions/DomainInterval"
        },
        {
          "$ref": "#/definitions/DomainChrInterval"
        },
        {
          "$ref": "#/definitions/DomainChr"
        },
        {
          "$ref": "#/definitions/DomainGene"
        }
      ]
    },
    "DomainChr": {
      "additionalProperties": false,
      "properties": {
        "chromosome": {
          "type": "string"
        }
      },
      "required": [
        "chromosome"
      ],
      "type": "object"
    },
    "DomainChrInterval": {
      "additionalProperties": false,
      "properties": {
        "chromosome": {
          "type": "string"
        },
        "interval": {
          "items": [
            {
              "type": "number"
            },
            {
              "type": "number"
            }
          ],
          "maxItems": 2,
          "minItems": 2,
          "type": "array"
        }
      },
      "required": [
        "chromosome",
        "interval"
      ],
      "type": "object"
    },
    "DomainGene": {
      "additionalProperties": false,
      "properties": {
        "gene": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "items": [
                {
                  "type": "string"
                },
                {
                  "type": "string"
                }
              ],
              "maxItems": 2,
              "minItems": 2,
              "type": "array"
            }
          ]
        }
      },
      "required": [
        "gene"
      ],
      "type": "object"
    },
    "DomainInterval": {
      "additionalProperties": false,
      "properties": {
        "interval": {
          "items": [
            {
              "type": "number"
            },
            {
              "type": "number"
            }
          ],
          "maxItems": 2,
          "minItems": 2,
          "type": "array"
        }
      },
      "required": [
        "interval"
      ],
      "type": "object"
    },
    "FieldType": {
      "enum": [
        "genomic",
        "nominal",
        "quantitative"
      ],
      "type": "string"
    },
    "Filter": {
      "anyOf": [
        {
          "$ref": "#/definitions/OneOfFilter"
        },
        {
          "$ref": "#/definitions/RangeFilter"
        }
      ]
    },
    "GLYPH_HIGLASS_PRESET_TYPE": {
      "enum": [
        "gene-annotation-higlass",
        "gemini-track-higlass",
        "point-higlass",
        "line-higlass",
        "1d-heatmap-higlass",
        "bar-higlass"
      ],
      "type": "string"
    },
    "GLYPH_LOCAL_PRESET_TYPE": {
      "enum": [
        "gene-annotation-simple",
        "gene-annotation",
        "cytogenetic-band"
      ],
      "type": "string"
    },
    "GeminiSpec": {
      "additionalProperties": false,
      "description": "Root-level specification",
      "properties": {
        "description": {
          "type": "string"
        },
        "layout": {
          "$ref": "#/definitions/Layout"
        },
        "tracks": {
          "items": {
            "$ref": "#/definitions/Track"
          },
          "type": "array"
        }
      },
      "required": [
        "tracks"
      ],
      "type": "object"
    },
    "GlyphElement": {
      "additionalProperties": false,
      "properties": {
        "background": {
          "anyOf": [
            {
              "$ref": "#/definitions/ChannelBind"
            },
            {
              "$ref": "#/definitions/ChannelValue"
            },
            {
              "const": "none",
              "type": "string"
            }
          ]
        },
        "color": {
          "anyOf": [
            {
              "$ref": "#/definitions/ChannelBind"
            },
            {
              "$ref": "#/definitions/ChannelValue"
            },
            {
              "const": "none",
              "type": "string"
            }
          ]
        },
        "description": {
          "type": "string"
        },
        "mark": {
          "anyOf": [
            {
              "$ref": "#/definitions/MarkType"
            },
            {
              "$ref": "#/definitions/MarkBind"
            }
          ]
        },
        "opacity": {
          "anyOf": [
            {
              "$ref": "#/definitions/ChannelBind"
            },
            {
              "$ref": "#/definitions/ChannelValue"
            },
            {
              "const": "none",
              "type": "string"
            }
          ]
        },
        "row": {
          "anyOf": [
            {
              "$ref": "#/definitions/ChannelBind"
            },
            {
              "$ref": "#/definitions/ChannelValue"
            },
            {
              "const": "none",
              "type": "string"
            }
          ]
        },
        "select": {
          "items": {
            "additionalProperties": false,
            "properties": {
              "channel": {
                "$ref": "#/definitions/ChannelType"
              },
              "oneOf": {
                "items": {
                  "type": "string"
                },
                "type": "array"
              }
            },
            "required": [
              "channel",
              "oneOf"
            ],
            "type": "object"
          },
          "type": "array"
        },
        "size": {
          "anyOf": [
            {
              "$ref": "#/definitions/ChannelBind"
            },
            {
              "$ref": "#/definitions/ChannelValue"
            },
            {
              "const": "none",
              "type": "string"
            }
          ]
        },
        "stroke": {
          "anyOf": [
            {
              "$ref": "#/definitions/ChannelBind"
            },
            {
              "$ref": "#/definitions/ChannelValue"
            },
            {
              "const": "none",
              "type": "string"
            }
          ]
        },
        "strokeWidth": {
          "anyOf": [
            {
              "$ref": "#/definitions/ChannelBind"
            },
            {
              "$ref": "#/definitions/ChannelValue"
            },
            {
              "const": "none",
              "type": "string"
            }
          ]
        },
        "style": {
          "$ref": "#/definitions/MarkStyle"
        },
        "text": {
          "anyOf": [
            {
              "$ref": "#/definitions/ChannelBind"
            },
            {
              "$ref": "#/definitions/ChannelValue"
            },
            {
              "const": "none",
              "type": "string"
            }
          ]
        },
        "w": {
          "anyOf": [
            {
              "$ref": "#/definitions/ChannelBind"
            },
            {
              "$ref": "#/definitions/ChannelValue"
            },
            {
              "const": "none",
              "type": "string"
            }
          ]
        },
        "x": {
          "anyOf": [
            {
              "$ref": "#/definitions/ChannelBind"
            },
            {
              "$ref": "#/definitions/ChannelValue"
            },
            {
              "const": "none",
              "type": "string"
            }
          ]
        },
        "x1": {
          "anyOf": [
            {
              "$ref": "#/definitions/ChannelBind"
            },
            {
              "$ref": "#/definitions/ChannelValue"
            },
            {
              "const": "none",
              "type": "string"
            }
          ]
        },
        "x1e": {
          "anyOf": [
            {
              "$ref": "#/definitions/ChannelBind"
            },
            {
              "$ref": "#/definitions/ChannelValue"
            },
            {
              "const": "none",
              "type": "string"
            }
          ]
        },
        "xe": {
          "anyOf": [
            {
              "$ref": "#/definitions/ChannelBind"
            },
            {
              "$ref": "#/definitions/ChannelValue"
            },
            {
              "const": "none",
              "type": "string"
            }
          ]
        },
        "y": {
          "anyOf": [
            {
              "$ref": "#/definitions/ChannelBind"
            },
            {
              "$ref": "#/definitions/ChannelValue"
            },
            {
              "const": "none",
              "type": "string"
            }
          ]
        },
        "y1": {
          "anyOf": [
            {
              "$ref": "#/definitions/ChannelBind"
            },
            {
              "$ref": "#/definitions/ChannelValue"
            },
            {
              "const": "none",
              "type": "string"
            }
          ]
        },
        "y1e": {
          "anyOf": [
            {
              "$ref": "#/definitions/ChannelBind"
            },
            {
              "$ref": "#/definitions/ChannelValue"
            },
            {
              "const": "none",
              "type": "string"
            }
          ]
        },
        "ye": {
          "anyOf": [
            {
              "$ref": "#/definitions/ChannelBind"
            },
            {
              "$ref": "#/definitions/ChannelValue"
            },
            {
              "const": "none",
              "type": "string"
            }
          ]
        }
      },
      "required": [
        "mark"
      ],
      "type": "object"
    },
    "Layout": {
      "additionalProperties": false,
      "description": "Layout specification for multiple tracks",
      "properties": {
        "direction": {
          "enum": [
            "vertical",
            "horizontal"
          ],
          "type": "string"
        },
        "gap": {
          "type": "number"
        },
        "type": {
          "enum": [
            "linear",
            "circular"
          ],
          "type": "string"
        },
        "wrap": {
          "type": "number"
        }
      },
      "required": [
        "type",
        "direction"
      ],
      "type": "object"
    },
    "LogicalOperation": {
      "enum": [
        "less-than",
        "lt",
        "LT",
        "greater-than",
        "gt",
        "GT",
        "less-than-or-equal-to",
        "ltet",
        "LTET",
        "greater-than-or-equal-to",
        "gtet",
        "GTET"
      ],
      "type": "string"
    },
    "Mark": {
      "anyOf": [
        {
          "$ref": "#/definitions/MarkType"
        },
        {
          "$ref": "#/definitions/MarkDeep"
        }
      ],
      "description": "Mark"
    },
    "MarkBind": {
      "additionalProperties": false,
      "properties": {
        "bind": {
          "type": "string"
        },
        "domain": {
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        "range": {
          "items": {
            "$ref": "#/definitions/MarkType"
          },
          "type": "array"
        }
      },
      "required": [
        "bind",
        "domain",
        "range"
      ],
      "type": "object"
    },
    "MarkDeep": {
      "anyOf": [
        {
          "$ref": "#/definitions/MarkGlyphPreset"
        },
        {
          "$ref": "#/definitions/MarkGlyph"
        },
        {
          "$ref": "#/definitions/MarkWithStyle"
        }
      ],
      "description": "Glyph"
    },
    "MarkGlyph": {
      "additionalProperties": false,
      "properties": {
        "elements": {
          "items": {
            "$ref": "#/definitions/GlyphElement"
          },
          "type": "array"
        },
        "name": {
          "type": "string"
        },
        "referenceColumn": {
          "type": "string"
        },
        "requiredChannels": {
          "items": {
            "$ref": "#/definitions/ChannelType"
          },
          "type": "array"
        },
        "type": {
          "const": "compositeMark",
          "type": "string"
        }
      },
      "required": [
        "type",
        "name",
        "requiredChannels",
        "elements"
      ],
      "type": "object"
    },
    "MarkGlyphPreset": {
      "additionalProperties": false,
      "properties": {
        "server": {
          "type": "string"
        },
        "type": {
          "anyOf": [
            {
              "$ref": "#/definitions/GLYPH_LOCAL_PRESET_TYPE"
            },
            {
              "$ref": "#/definitions/GLYPH_HIGLASS_PRESET_TYPE"
            }
          ]
        }
      },
      "required": [
        "type",
        "server"
      ],
      "type": "object"
    },
    "MarkStyle": {
      "additionalProperties": false,
      "properties": {
        "background": {
          "type": "string"
        },
        "dashed": {
          "type": "string"
        },
        "dy": {
          "type": "number"
        },
        "stroke": {
          "type": "string"
        },
        "strokeWidth": {
          "type": "number"
        }
      },
      "type": "object"
    },
    "MarkType": {
      "enum": [
        "bar",
        "point",
        "line",
        "area",
        "link",
        "link-between",
        "link-within",
        "rect",
        "text",
        "rule",
        "triangle-l",
        "triangle-r",
        "triangle-d",
        "rect-brush",
        "dummy",
        "empty"
      ],
      "type": "string"
    },
    "MarkWithStyle": {
      "additionalProperties": false,
      "properties": {
        "curvature": {
          "enum": [
            "straight",
            "stepwise",
            "curved"
          ],
          "type": "string"
        },
        "type": {
          "$ref": "#/definitions/MarkType"
        }
      },
      "required": [
        "type"
      ],
      "type": "object"
    },
    "MultivecMetadata": {
      "additionalProperties": false,
      "properties": {
        "bin": {
          "type": "number"
        },
        "categories": {
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        "column": {
          "type": "string"
        },
        "end": {
          "type": "string"
        },
        "row": {
          "type": "string"
        },
        "start": {
          "type": "string"
        },
        "type": {
          "const": "higlass-multivec",
          "type": "string"
        },
        "value": {
          "type": "string"
        }
      },
      "required": [
        "type",
        "column",
        "row",
        "value"
      ],
      "type": "object"
    },
    "OneOfFilter": {
      "additionalProperties": false,
      "properties": {
        "field": {
          "type": "string"
        },
        "not": {
          "type": "boolean"
        },
        "oneOf": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "items": {
                "type": "number"
              },
              "type": "array"
            }
          ]
        }
      },
      "required": [
        "field",
        "oneOf",
        "not"
      ],
      "type": "object"
    },
    "PREDEFINED_COLORS": {
      "enum": [
        "viridis",
        "grey",
        "spectral",
        "warm",
        "cividis",
        "bupu"
      ],
      "type": "string"
    },
    "Range": {
      "anyOf": [
        {
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        {
          "items": {
            "type": "number"
          },
          "type": "array"
        },
        {
          "$ref": "#/definitions/PREDEFINED_COLORS"
        }
      ]
    },
    "RangeFilter": {
      "additionalProperties": false,
      "properties": {
        "field": {
          "type": "string"
        },
        "inRange": {
          "items": {
            "type": "number"
          },
          "type": "array"
        },
        "not": {
          "type": "boolean"
        }
      },
      "required": [
        "field",
        "inRange",
        "not"
      ],
      "type": "object"
    },
    "SingleTrack": {
      "anyOf": [
        {
          "$ref": "#/definitions/BasicSingleTrack"
        },
        {
          "$ref": "#/definitions/CustomChannel"
        }
      ]
    },
    "SuperposedTrack": {
      "additionalProperties": false,
      "description": "Superposing multiple tracks.",
      "properties": {
        "_is_circular": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "$ref": "#/definitions/Channel"
            }
          ]
        },
        "background": {
          "anyOf": [
            {
              "$ref": "#/definitions/ChannelValue"
            },
            {
              "$ref": "#/definitions/Channel"
            }
          ]
        },
        "color": {
          "$ref": "#/definitions/Channel"
        },
        "column": {
          "$ref": "#/definitions/Channel"
        },
        "data": {
          "anyOf": [
            {
              "$ref": "#/definitions/DataDeep"
            },
            {
              "items": {
                "$ref": "#/definitions/Datum"
              },
              "type": "array"
            },
            {
              "$ref": "#/definitions/Channel"
            }
          ]
        },
        "dataTransform": {
          "anyOf": [
            {
              "$ref": "#/definitions/DataTransform"
            },
            {
              "$ref": "#/definitions/Channel"
            }
          ]
        },
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "$ref": "#/definitions/Channel"
            }
          ]
        },
        "height": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "$ref": "#/definitions/Channel"
            }
          ]
        },
        "innerRadius": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "$ref": "#/definitions/Channel"
            }
          ]
        },
        "mark": {
          "anyOf": [
            {
              "$ref": "#/definitions/Mark"
            },
            {
              "$ref": "#/definitions/Channel"
            }
          ]
        },
        "metadata": {
          "anyOf": [
            {
              "$ref": "#/definitions/DataMetadata"
            },
            {
              "$ref": "#/definitions/Channel"
            }
          ]
        },
        "opacity": {
          "anyOf": [
            {
              "$ref": "#/definitions/ChannelValue"
            },
            {
              "$ref": "#/definitions/Channel"
            }
          ]
        },
        "outerRadius": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "$ref": "#/definitions/Channel"
            }
          ]
        },
        "row": {
          "$ref": "#/definitions/Channel"
        },
        "size": {
          "$ref": "#/definitions/Channel"
        },
        "span": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "$ref": "#/definitions/Channel"
            }
          ]
        },
        "stretch": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "$ref": "#/definitions/Channel"
            }
          ]
        },
        "stroke": {
          "$ref": "#/definitions/Channel"
        },
        "strokeWidth": {
          "$ref": "#/definitions/Channel"
        },
        "style": {
          "anyOf": [
            {
              "$ref": "#/definitions/TrackStyle"
            },
            {
              "$ref": "#/definitions/Channel"
            }
          ]
        },
        "superpose": {
          "items": {
            "additionalProperties": false,
            "properties": {
              "_is_circular": {
                "anyOf": [
                  {
                    "type": "boolean"
                  },
                  {
                    "$ref": "#/definitions/Channel"
                  }
                ]
              },
              "background": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/ChannelValue"
                  },
                  {
                    "$ref": "#/definitions/Channel"
                  }
                ]
              },
              "color": {
                "$ref": "#/definitions/Channel"
              },
              "column": {
                "$ref": "#/definitions/Channel"
              },
              "data": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/DataDeep"
                  },
                  {
                    "items": {
                      "$ref": "#/definitions/Datum"
                    },
                    "type": "array"
                  },
                  {
                    "$ref": "#/definitions/Channel"
                  }
                ]
              },
              "dataTransform": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/DataTransform"
                  },
                  {
                    "$ref": "#/definitions/Channel"
                  }
                ]
              },
              "description": {
                "anyOf": [
                  {
                    "type": "string"
                  },
                  {
                    "$ref": "#/definitions/Channel"
                  }
                ]
              },
              "height": {
                "anyOf": [
                  {
                    "type": "number"
                  },
                  {
                    "$ref": "#/definitions/Channel"
                  }
                ]
              },
              "innerRadius": {
                "anyOf": [
                  {
                    "type": "number"
                  },
                  {
                    "$ref": "#/definitions/Channel"
                  }
                ]
              },
              "mark": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/Mark"
                  },
                  {
                    "$ref": "#/definitions/Channel"
                  }
                ]
              },
              "metadata": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/DataMetadata"
                  },
                  {
                    "$ref": "#/definitions/Channel"
                  }
                ]
              },
              "opacity": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/ChannelValue"
                  },
                  {
                    "$ref": "#/definitions/Channel"
                  }
                ]
              },
              "outerRadius": {
                "anyOf": [
                  {
                    "type": "number"
                  },
                  {
                    "$ref": "#/definitions/Channel"
                  }
                ]
              },
              "row": {
                "$ref": "#/definitions/Channel"
              },
              "size": {
                "$ref": "#/definitions/Channel"
              },
              "span": {
                "anyOf": [
                  {
                    "type": "number"
                  },
                  {
                    "$ref": "#/definitions/Channel"
                  }
                ]
              },
              "stretch": {
                "anyOf": [
                  {
                    "type": "boolean"
                  },
                  {
                    "$ref": "#/definitions/Channel"
                  }
                ]
              },
              "stroke": {
                "$ref": "#/definitions/Channel"
              },
              "strokeWidth": {
                "$ref": "#/definitions/Channel"
              },
              "style": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/TrackStyle"
                  },
                  {
                    "$ref": "#/definitions/Channel"
                  }
                ]
              },
              "text": {
                "$ref": "#/definitions/Channel"
              },
              "title": {
                "anyOf": [
                  {
                    "type": "string"
                  },
                  {
                    "$ref": "#/definitions/Channel"
                  }
                ]
              },
              "visibility": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/TriggerCondition"
                  },
                  {
                    "$ref": "#/definitions/Channel"
                  }
                ]
              },
              "width": {
                "anyOf": [
                  {
                    "type": "number"
                  },
                  {
                    "$ref": "#/definitions/Channel"
                  }
                ]
              },
              "x": {
                "$ref": "#/definitions/Channel"
              },
              "x1": {
                "$ref": "#/definitions/Channel"
              },
              "x1e": {
                "$ref": "#/definitions/Channel"
              },
              "xe": {
                "$ref": "#/definitions/Channel"
              },
              "y": {
                "$ref": "#/definitions/Channel"
              },
              "y1": {
                "$ref": "#/definitions/Channel"
              },
              "y1e": {
                "$ref": "#/definitions/Channel"
              },
              "ye": {
                "$ref": "#/definitions/Channel"
              },
              "zoomable": {
                "anyOf": [
                  {
                    "type": "boolean"
                  },
                  {
                    "$ref": "#/definitions/Channel"
                  }
                ]
              }
            },
            "type": "object"
          },
          "type": "array"
        },
        "text": {
          "$ref": "#/definitions/Channel"
        },
        "title": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "$ref": "#/definitions/Channel"
            }
          ]
        },
        "visibility": {
          "anyOf": [
            {
              "$ref": "#/definitions/TriggerCondition"
            },
            {
              "$ref": "#/definitions/Channel"
            }
          ]
        },
        "width": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "$ref": "#/definitions/Channel"
            }
          ]
        },
        "x": {
          "$ref": "#/definitions/Channel"
        },
        "x1": {
          "$ref": "#/definitions/Channel"
        },
        "x1e": {
          "$ref": "#/definitions/Channel"
        },
        "xe": {
          "$ref": "#/definitions/Channel"
        },
        "y": {
          "$ref": "#/definitions/Channel"
        },
        "y1": {
          "$ref": "#/definitions/Channel"
        },
        "y1e": {
          "$ref": "#/definitions/Channel"
        },
        "ye": {
          "$ref": "#/definitions/Channel"
        },
        "zoomable": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "$ref": "#/definitions/Channel"
            }
          ]
        }
      },
      "required": [
        "superpose"
      ],
      "type": "object"
    },
    "SuperposedTrackTwoLevels": {
      "additionalProperties": false,
      "properties": {
        "_is_circular": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "$ref": "#/definitions/Channel"
            }
          ]
        },
        "background": {
          "anyOf": [
            {
              "$ref": "#/definitions/ChannelValue"
            },
            {
              "$ref": "#/definitions/Channel"
            }
          ]
        },
        "color": {
          "$ref": "#/definitions/Channel"
        },
        "column": {
          "$ref": "#/definitions/Channel"
        },
        "data": {
          "anyOf": [
            {
              "$ref": "#/definitions/DataDeep"
            },
            {
              "items": {
                "$ref": "#/definitions/Datum"
              },
              "type": "array"
            },
            {
              "$ref": "#/definitions/Channel"
            }
          ]
        },
        "dataTransform": {
          "anyOf": [
            {
              "$ref": "#/definitions/DataTransform"
            },
            {
              "$ref": "#/definitions/Channel"
            }
          ]
        },
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "$ref": "#/definitions/Channel"
            }
          ]
        },
        "height": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "$ref": "#/definitions/Channel"
            }
          ]
        },
        "innerRadius": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "$ref": "#/definitions/Channel"
            }
          ]
        },
        "mark": {
          "anyOf": [
            {
              "$ref": "#/definitions/Mark"
            },
            {
              "$ref": "#/definitions/Channel"
            }
          ]
        },
        "metadata": {
          "anyOf": [
            {
              "$ref": "#/definitions/DataMetadata"
            },
            {
              "$ref": "#/definitions/Channel"
            }
          ]
        },
        "opacity": {
          "anyOf": [
            {
              "$ref": "#/definitions/ChannelValue"
            },
            {
              "$ref": "#/definitions/Channel"
            }
          ]
        },
        "outerRadius": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "$ref": "#/definitions/Channel"
            }
          ]
        },
        "row": {
          "$ref": "#/definitions/Channel"
        },
        "size": {
          "$ref": "#/definitions/Channel"
        },
        "span": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "$ref": "#/definitions/Channel"
            }
          ]
        },
        "stretch": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "$ref": "#/definitions/Channel"
            }
          ]
        },
        "stroke": {
          "$ref": "#/definitions/Channel"
        },
        "strokeWidth": {
          "$ref": "#/definitions/Channel"
        },
        "style": {
          "anyOf": [
            {
              "$ref": "#/definitions/TrackStyle"
            },
            {
              "$ref": "#/definitions/Channel"
            }
          ]
        },
        "superpose": {
          "items": {
            "additionalProperties": false,
            "properties": {
              "_is_circular": {
                "anyOf": [
                  {
                    "type": "boolean"
                  },
                  {
                    "$ref": "#/definitions/Channel"
                  }
                ]
              },
              "background": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/ChannelValue"
                  },
                  {
                    "$ref": "#/definitions/Channel"
                  }
                ]
              },
              "color": {
                "$ref": "#/definitions/Channel"
              },
              "column": {
                "$ref": "#/definitions/Channel"
              },
              "data": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/DataDeep"
                  },
                  {
                    "items": {
                      "$ref": "#/definitions/Datum"
                    },
                    "type": "array"
                  },
                  {
                    "$ref": "#/definitions/Channel"
                  }
                ]
              },
              "dataTransform": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/DataTransform"
                  },
                  {
                    "$ref": "#/definitions/Channel"
                  }
                ]
              },
              "description": {
                "anyOf": [
                  {
                    "type": "string"
                  },
                  {
                    "$ref": "#/definitions/Channel"
                  }
                ]
              },
              "height": {
                "anyOf": [
                  {
                    "type": "number"
                  },
                  {
                    "$ref": "#/definitions/Channel"
                  }
                ]
              },
              "innerRadius": {
                "anyOf": [
                  {
                    "type": "number"
                  },
                  {
                    "$ref": "#/definitions/Channel"
                  }
                ]
              },
              "mark": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/Mark"
                  },
                  {
                    "$ref": "#/definitions/Channel"
                  }
                ]
              },
              "metadata": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/DataMetadata"
                  },
                  {
                    "$ref": "#/definitions/Channel"
                  }
                ]
              },
              "opacity": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/ChannelValue"
                  },
                  {
                    "$ref": "#/definitions/Channel"
                  }
                ]
              },
              "outerRadius": {
                "anyOf": [
                  {
                    "type": "number"
                  },
                  {
                    "$ref": "#/definitions/Channel"
                  }
                ]
              },
              "row": {
                "$ref": "#/definitions/Channel"
              },
              "size": {
                "$ref": "#/definitions/Channel"
              },
              "span": {
                "anyOf": [
                  {
                    "type": "number"
                  },
                  {
                    "$ref": "#/definitions/Channel"
                  }
                ]
              },
              "stretch": {
                "anyOf": [
                  {
                    "type": "boolean"
                  },
                  {
                    "$ref": "#/definitions/Channel"
                  }
                ]
              },
              "stroke": {
                "$ref": "#/definitions/Channel"
              },
              "strokeWidth": {
                "$ref": "#/definitions/Channel"
              },
              "style": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/TrackStyle"
                  },
                  {
                    "$ref": "#/definitions/Channel"
                  }
                ]
              },
              "superpose": {
                "items": {
                  "additionalProperties": false,
                  "properties": {
                    "_is_circular": {
                      "anyOf": [
                        {
                          "type": "boolean"
                        },
                        {
                          "$ref": "#/definitions/Channel"
                        }
                      ]
                    },
                    "background": {
                      "anyOf": [
                        {
                          "$ref": "#/definitions/ChannelValue"
                        },
                        {
                          "$ref": "#/definitions/Channel"
                        }
                      ]
                    },
                    "color": {
                      "$ref": "#/definitions/Channel"
                    },
                    "column": {
                      "$ref": "#/definitions/Channel"
                    },
                    "data": {
                      "anyOf": [
                        {
                          "$ref": "#/definitions/DataDeep"
                        },
                        {
                          "items": {
                            "$ref": "#/definitions/Datum"
                          },
                          "type": "array"
                        },
                        {
                          "$ref": "#/definitions/Channel"
                        }
                      ]
                    },
                    "dataTransform": {
                      "anyOf": [
                        {
                          "$ref": "#/definitions/DataTransform"
                        },
                        {
                          "$ref": "#/definitions/Channel"
                        }
                      ]
                    },
                    "description": {
                      "anyOf": [
                        {
                          "type": "string"
                        },
                        {
                          "$ref": "#/definitions/Channel"
                        }
                      ]
                    },
                    "height": {
                      "anyOf": [
                        {
                          "type": "number"
                        },
                        {
                          "$ref": "#/definitions/Channel"
                        }
                      ]
                    },
                    "innerRadius": {
                      "anyOf": [
                        {
                          "type": "number"
                        },
                        {
                          "$ref": "#/definitions/Channel"
                        }
                      ]
                    },
                    "mark": {
                      "anyOf": [
                        {
                          "$ref": "#/definitions/Mark"
                        },
                        {
                          "$ref": "#/definitions/Channel"
                        }
                      ]
                    },
                    "metadata": {
                      "anyOf": [
                        {
                          "$ref": "#/definitions/DataMetadata"
                        },
                        {
                          "$ref": "#/definitions/Channel"
                        }
                      ]
                    },
                    "opacity": {
                      "anyOf": [
                        {
                          "$ref": "#/definitions/ChannelValue"
                        },
                        {
                          "$ref": "#/definitions/Channel"
                        }
                      ]
                    },
                    "outerRadius": {
                      "anyOf": [
                        {
                          "type": "number"
                        },
                        {
                          "$ref": "#/definitions/Channel"
                        }
                      ]
                    },
                    "row": {
                      "$ref": "#/definitions/Channel"
                    },
                    "size": {
                      "$ref": "#/definitions/Channel"
                    },
                    "span": {
                      "anyOf": [
                        {
                          "type": "number"
                        },
                        {
                          "$ref": "#/definitions/Channel"
                        }
                      ]
                    },
                    "stretch": {
                      "anyOf": [
                        {
                          "type": "boolean"
                        },
                        {
                          "$ref": "#/definitions/Channel"
                        }
                      ]
                    },
                    "stroke": {
                      "$ref": "#/definitions/Channel"
                    },
                    "strokeWidth": {
                      "$ref": "#/definitions/Channel"
                    },
                    "style": {
                      "anyOf": [
                        {
                          "$ref": "#/definitions/TrackStyle"
                        },
                        {
                          "$ref": "#/definitions/Channel"
                        }
                      ]
                    },
                    "text": {
                      "$ref": "#/definitions/Channel"
                    },
                    "title": {
                      "anyOf": [
                        {
                          "type": "string"
                        },
                        {
                          "$ref": "#/definitions/Channel"
                        }
                      ]
                    },
                    "visibility": {
                      "anyOf": [
                        {
                          "$ref": "#/definitions/TriggerCondition"
                        },
                        {
                          "$ref": "#/definitions/Channel"
                        }
                      ]
                    },
                    "width": {
                      "anyOf": [
                        {
                          "type": "number"
                        },
                        {
                          "$ref": "#/definitions/Channel"
                        }
                      ]
                    },
                    "x": {
                      "$ref": "#/definitions/Channel"
                    },
                    "x1": {
                      "$ref": "#/definitions/Channel"
                    },
                    "x1e": {
                      "$ref": "#/definitions/Channel"
                    },
                    "xe": {
                      "$ref": "#/definitions/Channel"
                    },
                    "y": {
                      "$ref": "#/definitions/Channel"
                    },
                    "y1": {
                      "$ref": "#/definitions/Channel"
                    },
                    "y1e": {
                      "$ref": "#/definitions/Channel"
                    },
                    "ye": {
                      "$ref": "#/definitions/Channel"
                    },
                    "zoomable": {
                      "anyOf": [
                        {
                          "type": "boolean"
                        },
                        {
                          "$ref": "#/definitions/Channel"
                        }
                      ]
                    }
                  },
                  "type": "object"
                },
                "type": "array"
              },
              "text": {
                "$ref": "#/definitions/Channel"
              },
              "title": {
                "anyOf": [
                  {
                    "type": "string"
                  },
                  {
                    "$ref": "#/definitions/Channel"
                  }
                ]
              },
              "visibility": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/TriggerCondition"
                  },
                  {
                    "$ref": "#/definitions/Channel"
                  }
                ]
              },
              "width": {
                "anyOf": [
                  {
                    "type": "number"
                  },
                  {
                    "$ref": "#/definitions/Channel"
                  }
                ]
              },
              "x": {
                "$ref": "#/definitions/Channel"
              },
              "x1": {
                "$ref": "#/definitions/Channel"
              },
              "x1e": {
                "$ref": "#/definitions/Channel"
              },
              "xe": {
                "$ref": "#/definitions/Channel"
              },
              "y": {
                "$ref": "#/definitions/Channel"
              },
              "y1": {
                "$ref": "#/definitions/Channel"
              },
              "y1e": {
                "$ref": "#/definitions/Channel"
              },
              "ye": {
                "$ref": "#/definitions/Channel"
              },
              "zoomable": {
                "anyOf": [
                  {
                    "type": "boolean"
                  },
                  {
                    "$ref": "#/definitions/Channel"
                  }
                ]
              }
            },
            "type": "object"
          },
          "type": "array"
        },
        "text": {
          "$ref": "#/definitions/Channel"
        },
        "title": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "$ref": "#/definitions/Channel"
            }
          ]
        },
        "visibility": {
          "anyOf": [
            {
              "$ref": "#/definitions/TriggerCondition"
            },
            {
              "$ref": "#/definitions/Channel"
            }
          ]
        },
        "width": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "$ref": "#/definitions/Channel"
            }
          ]
        },
        "x": {
          "$ref": "#/definitions/Channel"
        },
        "x1": {
          "$ref": "#/definitions/Channel"
        },
        "x1e": {
          "$ref": "#/definitions/Channel"
        },
        "xe": {
          "$ref": "#/definitions/Channel"
        },
        "y": {
          "$ref": "#/definitions/Channel"
        },
        "y1": {
          "$ref": "#/definitions/Channel"
        },
        "y1e": {
          "$ref": "#/definitions/Channel"
        },
        "ye": {
          "$ref": "#/definitions/Channel"
        },
        "zoomable": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "$ref": "#/definitions/Channel"
            }
          ]
        }
      },
      "required": [
        "superpose"
      ],
      "type": "object"
    },
    "Track": {
      "anyOf": [
        {
          "$ref": "#/definitions/SingleTrack"
        },
        {
          "$ref": "#/definitions/SuperposedTrack"
        },
        {
          "$ref": "#/definitions/SuperposedTrackTwoLevels"
        }
      ]
    },
    "TrackStyle": {
      "additionalProperties": false,
      "properties": {
        "align": {
          "enum": [
            "left",
            "right"
          ],
          "type": "string"
        },
        "background": {
          "type": "string"
        },
        "circularLink": {
          "type": "boolean"
        },
        "curve": {
          "enum": [
            "top",
            "bottom",
            "left",
            "right"
          ],
          "type": "string"
        },
        "dashed": {
          "items": [
            {
              "type": "number"
            },
            {
              "type": "number"
            }
          ],
          "maxItems": 2,
          "minItems": 2,
          "type": "array"
        },
        "dy": {
          "type": "number"
        },
        "linePattern": {
          "additionalProperties": false,
          "properties": {
            "size": {
              "type": "number"
            },
            "type": {
              "enum": [
                "triangle-l",
                "triangle-r"
              ],
              "type": "string"
            }
          },
          "required": [
            "type",
            "size"
          ],
          "type": "object"
        },
        "outline": {
          "type": "string"
        },
        "stroke": {
          "type": "string"
        },
        "strokeWidth": {
          "type": "number"
        },
        "textFontSize": {
          "type": "number"
        },
        "textFontWeight": {
          "enum": [
            "bold",
            "normal"
          ],
          "type": "string"
        },
        "textStroke": {
          "type": "string"
        },
        "textStrokeWidth": {
          "type": "number"
        }
      },
      "type": "object"
    },
    "TriggerCondition": {
      "additionalProperties": false,
      "properties": {
        "condition": {
          "additionalProperties": false,
          "properties": {
            "conditionPadding": {
              "type": "number"
            },
            "height": {
              "type": "number"
            },
            "transitionPadding": {
              "type": "number"
            },
            "width": {
              "anyOf": [
                {
                  "type": "number"
                },
                {
                  "const": "|xe-x|",
                  "type": "string"
                }
              ]
            },
            "zoomLevel": {
              "type": "number"
            }
          },
          "type": "object"
        },
        "operation": {
          "$ref": "#/definitions/LogicalOperation"
        },
        "target": {
          "enum": [
            "track",
            "mark",
            "glyph"
          ],
          "type": "string"
        }
      },
      "required": [
        "operation",
        "condition",
        "target"
      ],
      "type": "object"
    }
  }
}